!function(){~function(){function b(a){function e(a){var b,e,f;for(b=0;b<d.length;b++)e=utils.children(d[b],"a")[0],e.className=null,c[b].className=null;f=utils.children(d[a],"a")[0],f.className="bg",c[a].className="bg"}var f,b=utils.children(a,"ul")[0],c=utils.children(a,"div"),d=utils.children(b,"li");for(f=0;f<d.length;f++)d[f].index=f,d[f].onmouseover=function(){e(this.index)}}var a=document.getElementById("tab");b(a)}(),~function(){function e(a){for(var d,e,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="";c.length<4;)d=Math.round(61*Math.random()),e=b[d],c.indexOf(e)>-1||(c+=e);a.innerHTML=c}var f,g,h,i,a=document.getElementById("captcha1"),b=a.getElementsByTagName("a")[0],c=document.getElementById("captcha2"),d=c.getElementsByTagName("a")[0];e(b),b.onclick=function(){e(b)},e(d),d.onclick=function(){e(d)},f=document.getElementsByName("btn1")[0],g=document.getElementsByName("btn2")[0],h=document.getElementsByName("text1")[0],i=document.getElementsByName("text2")[0],f.onclick=function(){var c=utils.children(a,"p")[0],d=utils.children(c,"span")[0],f=utils.children(c,"a")[0],g=h.value.replace(/(^ +| +$)/g,"");g===b.innerHTML?(d.innerHTML="验证成功！点击关闭，再次试验。",zhiAnimate(c,{height:"100%"},300)):0===g.length?(d.innerHTML="验证失败！验证不能为空。",zhiAnimate(c,{height:"100%"},300)):g.length<=3||g.length>5?(d.innerHTML="验证失败！输入的位数不对!",zhiAnimate(c,{height:"100%"},300)):g!=b.innerHTML&&(d.innerHTML="验证失败！输入不正确。",zhiAnimate(c,{height:"100%"},300)),f.onclick=function(){zhiAnimate(c,{height:"0"},300),h.value="",e(b)}},g.onclick=function(){var a=utils.children(c,"p")[0],b=utils.children(a,"span")[0],f=utils.children(a,"a")[0],g=i.value.replace(/(^ +| +$)/g,"");g.toLocaleLowerCase()==d.innerHTML.toLocaleLowerCase()?(b.innerHTML="验证成功！点击关闭，再次试验。",zhiAnimate(a,{height:"100%"},300)):g.toLocaleLowerCase()!=d.innerHTML.toLocaleLowerCase()?(b.innerHTML="验证失败！输入不正确。",zhiAnimate(a,{height:"100%"},300)):0===g.length?(b.innerHTML="验证失败！验证不能为空。",zhiAnimate(a,{height:"100%"},300)):(g.length<=3||g.length>5)&&(b.innerHTML="验证失败！输入的位数不对!",zhiAnimate(a,{height:"100%"},300)),f.onclick=function(){zhiAnimate(a,{height:"0"},300),i.value="",e(d)}}}(),~function(){var a=document.getElementById("submitBtn"),b=a.getElementsByTagName("span")[0];b.count=100,a.onclick=function(){b.count+=10,b.innerHTML=b.count}}(),~function(){function f(a){var e,f,i,j,k,l,m,b=document.createDocumentFragment();for(e=0,f=a.length;f>e;e++){i=a[e],i["sex"]=0==i["sex"]?"男":1==i["sex"]?"女":"未知",j=document.createElement("tr");for(k in i)l=document.createElement("td"),l.innerHTML=i[k],j.appendChild(l);b.appendChild(j)}for(d.appendChild(b),b=null,g(),e=0,f=c.length;f>e;e++)m=c[e],m.className.indexOf("cursor")>-1&&(m.flag=-1,m.index=e,m.onclick=function(){h.call(this,this.index)})}function g(){for(var a=0;a<e.length;a++)e[a].className=1===a%2?"bg":null}function h(a){var b,f,h,i,j,k;for(b=0;b<c.length;b++)b!=a?c[b].flag=-1:null;for(f=this,f.flag*=-1,h=utils.listToArray(e),h.sort(function(b,c){var d=b.cells[a].innerHTML,e=c.cells[a].innerHTML,g=parseFloat(d),h=parseFloat(e);return isNaN(g)||isNaN(h)?d.localeCompare(e)*f.flag:(g-h)*f.flag}),i=document.createDocumentFragment(),j=0,k=h.length;k>j;j++)i.appendChild(h[j]);d.appendChild(i),g()}var a=document.getElementById("table"),b=a.tHead,c=b.rows[0].cells,d=a.tBodies[0],e=d.rows;~function(){var a=new XMLHttpRequest;a.open("get","json/userInfo.json",!0),a.onreadystatechange=function(){var b,c;4===a.readyState&&/^2\d{2}$/.test(a.status)&&(b=a.responseText,c=utils.formatJSON(b),f(c))},a.send(null)}()}(),!function(){var a=document.getElementById("boxCon"),b=document.getElementById("boxCon_begin"),c=utils.css(b,"width");window.setInterval(function(){var b=a.scrollLeft;return b>=c?(a.scrollLeft=0,void 0):(a.scrollLeft=++b,void 0)},10)}(),~function(){var d,a=document.getElementById("imgag"),b=a.getElementsByTagName("img")[0],c=null;c=window.setTimeout(function(){var a=new Image;a.src=b.getAttribute("trueImg"),a.onload=function(){b.src=this.src,b.style.display="block",a=null},window.clearInterval(c)},500),d=document.getElementById("button"),d.onclick=function(){b.style.display="none",b.src="",c=window.setTimeout(function(){var a=new Image;a.src=b.getAttribute("trueImg"),a.onload=function(){b.src=this.src,b.style.display="block",a=null},window.clearInterval(c),console.log("11")},500)}}(),~function(){function e(){b.scrollLeft++,b.scrollLeft>=d/2&&(b.scrollLeft=0)}var a=document.getElementsByClassName("div")[0],b=document.getElementById("div"),c=document.getElementById("ul"),d=utils.css(c,"width"),f=window.setInterval(e,10);a.onmouseover=function(){window.clearInterval(f)},a.onmouseout=function(){f=window.setInterval(e,10)}}(),+function(){var a=document.getElementById("nav2"),b=utils.children(a,"ul")[0];a.onmouseover=function(){zhiAnimate(b,{height:150},300)},a.onmouseout=function(){zhiAnimate(b,{height:0},300)}}(),+function(){var a=document.getElementById("nav3"),b=utils.children(a,"ul")[0];a.onmouseover=function(){zhiAnimate(b,{width:150},300,function(){zhiAnimate(b,{height:150},300)})},a.onmouseout=function(){zhiAnimate(b,{height:50},300,function(){zhiAnimate(b,{width:0},300)})}}(),~function(){function a(a,b,c){return this.banner=document.getElementById(a),this.bannerInner=utils.firstChild(this.banner),this.bannerTip=utils.children(this.banner,"ul")[0],this.bannerLink=utils.children(this.banner,"a"),this.bannerLeft=this.bannerLink[0],this.bannerRight=this.bannerLink[1],this.divList=this.bannerInner.getElementsByTagName("div"),this.imgList=this.bannerInner.getElementsByTagName("img"),this.oLis=this.bannerTip.getElementsByTagName("li"),this.jsonData=null,this.interval=c||3e3,this.autoTimer=null,this.step=0,this.ajaxURL=b,this.init()}a.prototype={constructor:a,getData:function(){var a=this,b=new XMLHttpRequest;b.open("get",this.ajaxURL+"?_="+Math.random(),!1),b.onreadystatechange=function(){4===b.readyState&&/^2\d{2}$/.test(b.status)&&(a.jsonData=utils.formatJSON(b.responseText))},b.send(null)},bindData:function(){var c,d,e,a="",b="";if(this.jsonData)for(c=0,d=this.jsonData.length;d>c;c++)e=this.jsonData[c],a+="<div><img src='' trueImg='"+e["img"]+"'/></div>",b+=0===c?"<li class='bg'></li>":"<li></li>";this.bannerInner.innerHTML=a,this.bannerTip.innerHTML=b},lazyImg:function(){var b,c,a=this;for(b=0,c=this.imgList.length;c>b;b++)~function(b){var c=a.imgList[b],d=new Image;d.src=c.getAttribute("trueImg"),d.onload=function(){if(c.src=this.src,c.style.display="block",0===b){var a=c.parentNode;a.style.zIndex=1,zhiAnimate(a,{opacity:1},200)}d=null}}(b)},autoMove:function(){this.step===this.jsonData.length-1&&(this.step=-1),this.step++,this.setBanner()},setBanner:function(){var a,b,c,d;for(a=0,b=this.divList.length;b>a;a++)c=this.divList[a],a!==this.step?utils.css(c,"zIndex",0):(utils.css(c,"zIndex",1),zhiAnimate(c,{opacity:1},200,function(){var b,c,a=utils.siblings(this);for(b=0,c=a.length;c>b;b++)utils.css(a[b],"opacity",0)}));for(a=0,b=this.oLis.length;b>a;a++)d=this.oLis[a],a===this.step?utils.addClass(d,"bg"):utils.removeClass(d,"bg")},mouseEvent:function(){var a=this;this.banner.onmouseover=function(){window.clearInterval(a.autoTimer),a.bannerLeft.style.display=a.bannerRight.style.display="block"},this.banner.onmouseout=function(){a.autoTimer=window.setInterval(function(){a.autoMove()},a.interval),a.bannerLeft.style.display=a.bannerRight.style.display="none"}},tipEvent:function(){var b,c,d,a=this;for(b=0,c=this.oLis.length;c>b;b++)d=this.oLis[b],d.index=b,d.onclick=function(){a.step=this.index,a.setBanner()}},leftRight:function(){var a=this;this.bannerRight.onclick=function(){a.autoMove()},this.bannerLeft.onclick=function(){0===a.step&&(a.step=a.jsonData.length),a.step--,a.setBanner()}},init:function(){var a=this;return this.getData(),this.bindData(),window.setTimeout(function(){a.lazyImg()},500),this.autoTimer=window.setInterval(function(){a.autoMove()},this.interval),this.mouseEvent(),this.tipEvent(),this.leftRight(),this}},window.AutoBanner=a,new a("banner","json/banner.txt",2e3)}(),-function(){function e(c){var e,f,g,h,i,j;c=c||window.event,e=c.clientX-a.offsetLeft-b.offsetWidth/2-100,f=c.clientY-a.offsetTop-b.offsetHeight/2-230,g=0,h=0,i=a.offsetWidth-b.offsetWidth,j=a.offsetHeight-b.offsetHeight,e=g>=e?g:e>=i?i:e,f=h>=f?h:f>=j?j:f,utils.css(b,{left:e,top:f}),utils.css(d,{marginTop:3*-f,marginLeft:3*-e})}var a=document.getElementById("box"),b=document.getElementById("mark"),c=document.getElementById("boxDel"),d=c.getElementsByTagName("img")[0];a.onmouseenter=function(a){utils.css(b,"display","block"),utils.css(c,"display","block"),e(a)},a.onmousemove=e,a.onmouseleave=function(){utils.css(b,"display","none"),utils.css(c,"display","none")}}(),~function(){function f(){this.ele.style.zIndex=++e}function g(){zhiAnimate(this.ele,{left:this.ele.l,top:this.ele.t},700,3)}function h(a,b){return b.offsetLeft+b.offsetWidth<a.offsetLeft||b.offsetTop+b.offsetHeight<a.offsetTop||b.offsetLeft>a.offsetLeft+a.offsetWidth||b.offsetTop>a.offsetTop+a.offsetHeight?!1:!0}function i(){var a,c,d;for(this.aHited=[],a=0;a<b.length;a++)c=b[a],d=this.ele,c.style.background="",c!=d&&h(d,c)&&(c.style.background="black",this.aHited.push(c))}function j(){var c,d,e,f,a=this.aHited,b=this.ele;if(a&&a.length){for(c=0;c<a.length;c++)a[c].distance=Math.pow(b.offsetLeft-a[c].offsetLeft,2)+Math.pow(b.offsetTop-a[c].offsetTop,2);a.sort(function(a,b){return a.distance-b.distance}),d=a[0],d.style.backgroundColor="green",zhiAnimate(d,{left:b.l,top:b.t},700,3),zhiAnimate(b,{left:d.l,top:d.t},700,4),e=b.l,f=b.t,b.l=d.l,b.t=d.t,d.l=e,d.t=f,this.aHited=null}else g.call(this)}var c,d,e,a=document.getElementById("photo1"),b=utils.children(a,"li");for(console.log(a,b),c=b.length-1;c>=0;c--)d=b[c],d.style.left=(d.l=d.offsetLeft)+"px",d.style.top=(d.t=d.offsetTop)+"px",d.style.position="absolute",d.style.margin=0,new Drag(d).on("dragstart",f).on("dragend",j).on("dragging",i);e=0}(),~function(a){function b(b,c){var d=a(this).offset(),e=a(this).outerWidth(),f=a(this).outerHeight(),g=(b-d.left-e/2)*(e>f?f/e:1),h=(c-d.top-f/2)*(f>e?e/f:1);return Math.round((Math.atan2(h,g)*(180/Math.PI)+180)/90+3)%4}function c(c){c=c||200,a(this).on("mouseenter mouseleave",function(d){var e=a(this).children(".mark"),f=0,g=0,h=0,i=0,j=b.call(this,d.pageX,d.pageY);return"mouseenter"===d.type?(0===j?g="-100%":null,1===j?f="100%":null,2===j?g="100%":null,3===j?f="-100%":null,e.css({top:g,left:f,display:"block"}).stop().animate({top:i,left:h},c),void 0):(0===j?i="-100%":null,1===j?h="100%":null,2===j?i="100%":null,3===j?h="-100%":null,e.stop().animate({top:i,left:h},c,function(){e.css({display:"none"})}),void 0)})}a.fn.extend({mouseAnimate:c})}(jQuery),$(".follow .box li").mouseAnimate(300)}();