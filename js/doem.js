!(function(){~function(){var b=document.getElementById("tab");function a(h){var c=utils.children(h,"ul")[0];var f=utils.children(h,"div");var g=utils.children(c,"li");function d(m){for(var l=0;l<g.length;l++){var j=utils.children(g[l],"a")[0];j.className=null;f[l].className=null}var k=utils.children(g[m],"a")[0];k.className="bg";f[m].className="bg"}for(var e=0;e<g.length;e++){g[e].index=e;g[e].onmouseover=function(){d(this.index)}}}a(b)}();~function(){var e=document.getElementById("captcha1");var k=e.getElementsByTagName("a")[0];var d=document.getElementById("captcha2");var i=d.getElementsByTagName("a")[0];function b(o){var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var p="";while(p.length<4){var l=Math.round(Math.random()*61);var m=n[l];if(p.indexOf(m)>-1){continue}p+=m}o.innerHTML=p}b(k);k.onclick=function(){b(k)};b(i);i.onclick=function(){b(i)};var g=document.getElementsByName("btn1")[0];var f=document.getElementsByName("btn2")[0];var c=document.getElementsByName("text1")[0];var a=document.getElementsByName("text2")[0];g.onclick=function j(){var o=utils.children(e,"p")[0];var l=utils.children(o,"span")[0];var m=utils.children(o,"a")[0];var n=c.value.replace(/(^ +| +$)/g,"");if(n===k.innerHTML){l.innerHTML="验证成功！点击关闭，再次试验。";zhiAnimate(o,{height:"100%"},300)}else{if(n.length===0){l.innerHTML="验证失败！验证不能为空。";zhiAnimate(o,{height:"100%"},300)}else{if(n.length<=3||n.length>5){l.innerHTML="验证失败！输入的位数不对!";zhiAnimate(o,{height:"100%"},300)}}}m.onclick=function(){zhiAnimate(o,{height:"0"},300);c.value="";b(k)}};f.onclick=function h(){var o=utils.children(d,"p")[0];var l=utils.children(o,"span")[0];var m=utils.children(o,"a")[0];var n=a.value.replace(/(^ +| +$)/g,"");if(n.toLocaleLowerCase()==i.innerHTML.toLocaleLowerCase()){l.innerHTML="验证成功！点击关闭，再次试验。";zhiAnimate(o,{height:"100%"},300)}else{if(n.length===0){l.innerHTML="验证失败！验证不能为空。";zhiAnimate(o,{height:"100%"},300)}else{if(n.length<=3||n.length>5){l.innerHTML="验证失败！输入的位数不对!";zhiAnimate(o,{height:"100%"},300)}}}m.onclick=function(){zhiAnimate(o,{height:"0"},300);a.value="";b(i)}}}();~function(){var a=document.getElementById("submitBtn");var b=a.getElementsByTagName("span")[0];b.count=100;a.onclick=function(){b.count+=10;b.innerHTML=b.count}}();~function(){var g=document.getElementById("table");var e=g.tHead;var f=e.rows[0].cells;var a=g.tBodies[0];var h=a.rows;~function(){var i=new XMLHttpRequest;i.open("get","json/userInfo.json",true);i.onreadystatechange=function(){if(i.readyState===4&&/^2\d{2}$/.test(i.status)){var k=i.responseText;var j=utils.formatJSON(k);d(j)}};i.send(null)}();function d(o){var j=document.createDocumentFragment();for(var k=0,n=o.length;k<n;k++){var l=o[k];l.sex=l.sex==0?"男":(l.sex==1?"女":"未知");var r=document.createElement("tr");for(var p in l){var m=document.createElement("td");m.innerHTML=l[p];r.appendChild(m)}j.appendChild(r)}a.appendChild(j);j=null;c();for(var k=0,n=f.length;k<n;k++){var q=f[k];if(q.className.indexOf("cursor")>-1){q.flag=-1;q.index=k;q.onclick=function(){b.call(this,this.index)}}}}function c(){for(var j=0;j<h.length;j++){h[j].className=j%2===1?"bg":null}}function b(r){for(var m=0;m<f.length;m++){m!=r?f[m].flag=-1:null}var q=this;q.flag*=-1;var p=utils.listToArray(h);p.sort(function(k,i){var n=k.cells[r].innerHTML,u=i.cells[r].innerHTML,s=parseFloat(n),t=parseFloat(u);if(isNaN(s)||isNaN(t)){return(n.localeCompare(u))*q.flag}return(s-t)*q.flag});var l=document.createDocumentFragment();for(var o=0,j=p.length;o<j;o++){l.appendChild(p[o])}a.appendChild(l);c()}}();!function(){var c=document.getElementById("boxCon");var b=document.getElementById("boxCon_begin");var a=utils.css(b,"width");var d=window.setInterval(function(){var e=c.scrollLeft;if(e>=a){c.scrollLeft=0;return}c.scrollLeft=++e},10)}();~function(){var a=document.getElementById("imgag"),b=a.getElementsByTagName("img")[0];var d=null;d=window.setTimeout(function(){var e=new Image;e.src=b.getAttribute("trueImg");e.onload=function(){b.src=this.src;b.style.display="block";e=null};window.clearInterval(d)},500);var c=document.getElementById("button");c.onclick=function(){b.style.display="none";b.src="";d=window.setTimeout(function(){var e=new Image;e.src=b.getAttribute("trueImg");e.onload=function(){b.src=this.src;b.style.display="block";e=null};window.clearInterval(d);console.log("1"+1)},500)}}();~function(){var f=document.getElementsByClassName("div")[0];var e=document.getElementById("div");var b=document.getElementById("ul");var d=utils.css(b,"width");function a(){e.scrollLeft++;if(e.scrollLeft>=d/2){e.scrollLeft=0}}var c=window.setInterval(a,10);f.onmouseover=function(){window.clearInterval(c)};f.onmouseout=function(){c=window.setInterval(a,10)}}();+function(){var b=document.getElementById("nav2");var a=utils.children(b,"ul")[0];b.onmouseover=function(){zhiAnimate(a,{height:150},300)};b.onmouseout=function(){zhiAnimate(a,{height:0},300)}}();+function(){var b=document.getElementById("nav3");var a=utils.children(b,"ul")[0];b.onmouseover=function(){zhiAnimate(a,{width:150},300,function(){zhiAnimate(a,{height:150},300)})};b.onmouseout=function(){zhiAnimate(a,{height:50},300,function(){zhiAnimate(a,{width:0},300)})}}();~function(){function a(c,e,d){this.banner=document.getElementById(c);this.bannerInner=utils.firstChild(this.banner);this.bannerTip=utils.children(this.banner,"ul")[0];this.bannerLink=utils.children(this.banner,"a");this.bannerLeft=this.bannerLink[0];this.bannerRight=this.bannerLink[1];this.divList=this.bannerInner.getElementsByTagName("div");this.imgList=this.bannerInner.getElementsByTagName("img");this.oLis=this.bannerTip.getElementsByTagName("li");this.jsonData=null;this.interval=d||3000;this.autoTimer=null;this.step=0;this.ajaxURL=e;return this.init()}a.prototype={constructor:a,getData:function(){var d=this;var c=new XMLHttpRequest;c.open("get",this.ajaxURL+"?_="+Math.random(),false);c.onreadystatechange=function(){if(c.readyState===4&&/^2\d{2}$/.test(c.status)){d.jsonData=utils.formatJSON(c.responseText)}};c.send(null)},bindData:function(){var g="",f="";if(this.jsonData){for(var d=0,c=this.jsonData.length;d<c;d++){var e=this.jsonData[d];g+="<div><img src='' trueImg='"+e.img+"'/></div>";d===0?f+="<li class='bg'></li>":f+="<li></li>"}}this.bannerInner.innerHTML=g;this.bannerTip.innerHTML=f},lazyImg:function(){var e=this;for(var d=0,c=this.imgList.length;d<c;d++){~function(f){var h=e.imgList[f];var g=new Image;g.src=h.getAttribute("trueImg");g.onload=function(){h.src=this.src;h.style.display="block";if(f===0){var i=h.parentNode;i.style.zIndex=1;zhiAnimate(i,{opacity:1},200)}g=null}}(d)}},autoMove:function(){if(this.step===(this.jsonData.length-1)){this.step=-1}this.step++;this.setBanner()},setBanner:function(){for(var d=0,c=this.divList.length;d<c;d++){var e=this.divList[d];if(d===this.step){utils.css(e,"zIndex",1);zhiAnimate(e,{opacity:1},200,function(){var h=utils.siblings(this);for(var i=0,g=h.length;i<g;i++){utils.css(h[i],"opacity",0)}});continue}utils.css(e,"zIndex",0)}for(d=0,c=this.oLis.length;d<c;d++){var f=this.oLis[d];d===this.step?utils.addClass(f,"bg"):utils.removeClass(f,"bg")}},mouseEvent:function(){var c=this;this.banner.onmouseover=function(){window.clearInterval(c.autoTimer);c.bannerLeft.style.display=c.bannerRight.style.display="block"};this.banner.onmouseout=function(){c.autoTimer=window.setInterval(function(){c.autoMove()},c.interval);c.bannerLeft.style.display=c.bannerRight.style.display="none"}},tipEvent:function(){var f=this;for(var d=0,c=this.oLis.length;d<c;d++){var e=this.oLis[d];e.index=d;e.onclick=function(){f.step=this.index;f.setBanner()}}},leftRight:function(){var c=this;this.bannerRight.onclick=function(){c.autoMove()};this.bannerLeft.onclick=function(){if(c.step===0){c.step=c.jsonData.length}c.step--;c.setBanner()}},init:function(){var c=this;this.getData();this.bindData();window.setTimeout(function(){c.lazyImg()},500);this.autoTimer=window.setInterval(function(){c.autoMove()},this.interval);this.mouseEvent();this.tipEvent();this.leftRight();return this}};window.AutoBanner=a;var b=new a("banner","json/banner.txt",2000)}();-function(){var b=document.getElementById("box"),e=document.getElementById("mark");var c=document.getElementById("boxDel"),d=c.getElementsByTagName("img")[0];function a(k){k=k||window.event;var h=k.clientX-b.offsetLeft-e.offsetWidth/2-100;var j=k.clientY-b.offsetTop-e.offsetHeight/2-230;var g=0,i=0,l=b.offsetWidth-e.offsetWidth,f=b.offsetHeight-e.offsetHeight;h=h<=g?g:(h>=l?l:h);j=j<=i?i:(j>=f?f:j);utils.css(e,{left:h,top:j});utils.css(d,{marginTop:-j*3,marginLeft:-h*3})}b.onmouseenter=function(f){utils.css(e,"display","block");utils.css(c,"display","block");a(f)};b.onmousemove=a;b.onmouseleave=function(f){utils.css(e,"display","none");utils.css(c,"display","none")}}();~function(){var e=document.getElementById("photo1");var a=utils.children(e,"li");for(var c=a.length-1;c>=0;c--){var b=a[c];b.style.left=(b.l=b.offsetLeft)+"px";b.style.top=(b.t=b.offsetTop)+"px";b.style.position="absolute";b.style.margin=0;new Drag(b).on("dragstart",h).on("dragend",k).on("dragging",f)}var g=0;function h(){this.ele.style.zIndex=++g}function j(){zhiAnimate(this.ele,{left:this.ele.l,top:this.ele.t},700,3)}function d(l,i){if(i.offsetLeft+i.offsetWidth<l.offsetLeft||i.offsetTop+i.offsetHeight<l.offsetTop||i.offsetLeft>l.offsetLeft+l.offsetWidth||i.offsetTop>l.offsetTop+l.offsetHeight){return false}else{return true}}function f(){this.aHited=[];for(var m=0;m<a.length;m++){var n=a[m];var l=this.ele;n.style.background="";if(n==l){continue}if(d(l,n)){n.style.background="black";this.aHited.push(n)}}}function k(){var n=this.aHited;var q=this.ele;if(n&&n.length){for(var p=0;p<n.length;p++){n[p].distance=Math.pow(q.offsetLeft-n[p].offsetLeft,2)+Math.pow(q.offsetTop-n[p].offsetTop,2)}n.sort(function(l,i){return l.distance-i.distance});var r=n[0];r.style.backgroundColor="green";zhiAnimate(r,{left:q.l,top:q.t},700,3);zhiAnimate(q,{left:r.l,top:r.t},700,4);var m=q.l,o=q.t;q.l=r.l;q.t=r.t;r.l=m;r.t=o;this.aHited=null}else{j.call(this)}}}();~function(b){function c(h,f){var e=b(this).offset(),j=b(this).outerWidth(),d=b(this).outerHeight();var i=(h-e.left-(j/2))*(j>d?(d/j):1);var g=(f-e.top-(d/2))*(d>j?(j/d):1);return Math.round((((Math.atan2(g,i)*(180/Math.PI))+180)/90)+3)%4}function a(d){d=d||200;b(this).on("mouseenter mouseleave",function(k){var h=b(this).children(".mark"),i=0,l=0,g=0,j=0,f=c.call(this,k.pageX,k.pageY);if(k.type==="mouseenter"){f===0?l="-100%":null;f===1?i="100%":null;f===2?l="100%":null;f===3?i="-100%":null;h.css({top:l,left:i,display:"block"}).stop().animate({top:j,left:g},d);return}f===0?j="-100%":null;f===1?g="100%":null;f===2?j="100%":null;f===3?g="-100%":null;h.stop().animate({top:j,left:g},d,function(){h.css({display:"none"})})})}b.fn.extend({mouseAnimate:a})}(jQuery);$(".follow .box li").mouseAnimate(300)})();